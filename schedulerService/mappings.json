[
  {
    "index": "replies",
    "mapping": {
      "mappings": {
        "properties": {
          "author": { "type": "keyword" },
          "comment_id": { "type": "keyword" },
          "text": { "type": "text", "analyzer": "standard" },
          "event": { "type": "object" },
          "reply_id": { "type": "keyword" },
          "submission_date": {
            "type": "date",
            "format": "dd/MM/yyyy, HH:mm:ss"
          },
          "score": { "type": "integer" },
          "author_id": { "type": "keyword" }
        }
      }
    }
  },
  {
    "index": "posts",
    "mapping": {
      "mappings": {
        "properties": {
          "post_id": { "type": "keyword" },
          "author": { "type": "keyword" },
          "author_id": { "type": "keyword" },
          "title": {
            "type": "text",
            "analyzer": "english",
            "fields": {
              "keyword": { "type": "keyword" }
            }
          },
          "text": {
            "type": "text",
            "analyzer": "english",
            "fields": {
              "ngram": {
                "type": "text",
                "analyzer": "ngram_analyzer"
              }
            }
          },
          "category": { "type": "keyword" },
          "submission_date": {
            "type": "date",
            "format": "dd/MM/yyyy, HH:mm:ss"
          },
          "score": { "type": "integer" },
          "num_comments": { "type": "integer" }
        }
      },
      "settings": {
        "analysis": {
          "analyzer": {
            "ngram_analyzer": {
              "type": "custom",
              "tokenizer": "ngram_tokenizer",
              "filter": ["lowercase"]
            }
          },
          "tokenizer": {
            "ngram_tokenizer": {
              "type": "ngram",
              "min_gram": 3,
              "max_gram": 10,
              "token_chars": ["letter", "digit"]
            }
          }
        }
      }
    }
  },
  {
    "index": "comments",
    "mapping": {
      "mappings": {
        "properties": {
          "comment_id": { "type": "keyword" },
          "post_id": { "type": "keyword" },
          "author": { "type": "keyword" },
          "author_id": { "type": "keyword" },
          "text": {
            "type": "text",
            "analyzer": "english",
            "fields": {
              "ngram": { "type": "text", "analyzer": "ngram_analyzer" }
            }
          },
          "submission_date": {
            "type": "date",
            "format": "dd/MM/yyyy, HH:mm:ss"
          },
          "score": { "type": "integer" }
        }
      },
      "settings": {
        "analysis": {
          "analyzer": {
            "ngram_analyzer": {
              "type": "custom",
              "tokenizer": "ngram_tokenizer",
              "filter": ["lowercase"]
            }
          },
          "tokenizer": {
            "ngram_tokenizer": {
              "type": "ngram",
              "min_gram": 3,
              "max_gram": 10,
              "token_chars": ["letter", "digit"]
            }
          }
        }
      }
    }
  }
]
